<?xml version="1.0" standalone="no"?>

<kickstart>


	<description>
	Your oasis-config roll description here
	</description>

	<copyright>
	Copyright (c) 2000 - 2009 The Regents of the University of California.
	All rights reserved. Rocks(r) v5.2 www.rocksclusters.org
	
	</copyright>

	<changelog>
	$Log: oasis-config.xml,v $
	Revision 1.3  2012/01/24 23:11:49  cirving
	Updated oais-config.xml so that it inserts network kernel parameters into /etc/sysctl.conf
	
	Revision 1.2  2011/11/08 01:00:13  cai
	
	
	create software raid configuration for 2 SSD drives in OSS nodes
	
	40GB for /
	1GB for swap
	rest goes to /state/partitioin1
	
	</changelog>

	<package>dkms</package>
	<package>MegaCli</package>
	<package>Lib_Utils</package>
	<package>megaraid_sas</package>

	<post>

	<file name="/etc/sysctl.conf" mode="append">

	# increase TCP max buffer size setable using setsockopt()
	net.core.rmem_max = 33554432
	net.core.wmem_max = 33554432
	net.ipv4.tcp_rmem = 4096 87380 33554432
	net.ipv4.tcp_wmem = 4096 65536 33554432
	net.core.netdev_max_backlog = 250000
	net.ipv4.tcp_congestion_control = htcp
	net.ipv4.ip_forward = 0
	net.ipv4.tcp_timestamps = 0
	net.ipv4.tcp_no_metrics_save = 1
	net.ipv4.tcp_moderate_rcvbuf = 1
	net.core.somaxconn = 8192

	</file>

	</post>

</kickstart>
